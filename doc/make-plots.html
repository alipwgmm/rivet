<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.9" />
<title>make-plots</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>make-plots</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_about">About</h2>
<div class="sectionbody">
<div class="paragraph"><p><code>make-plots</code> reads histogram files in a simple text format and converts
them into PostScript or PDF files. This is done by creating a LaTeX file
and running <code>latex</code>, <code>dvips</code>, and maybe <code>ps2pdf</code>.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_usage">Usage</h2>
<div class="sectionbody">
<div class="paragraph"><p>To run <code>make-plots</code> call</p></div>
<div class="listingblock">
<div class="content">
<pre><code> make-plots [options] file.dat [file2.dat ...]</code></pre>
</div></div>
<div class="paragraph"><p>All available options can be listed by running</p></div>
<div class="listingblock">
<div class="content">
<pre><code> make-plots --help</code></pre>
</div></div>
<div class="sect2">
<h3 id="_configuration_files">Configuration files</h3>
<div class="paragraph"><p><code>make-plots</code> typically takes the plotting instructions and settings from the
input ascii files as described in the "Input Format" chapter.
It is also possible though to pass a global configuration file to <code>make-plots</code>
(cf. <code>--help</code>) which allows to specify/overwrite settings for certain plots or
histograms in a plot on top of what the input files specify. This could be
useful if the ascii files are generated automatically (e.g. with <code>rivet-mkhtml</code>
or <code>compare-histos</code>) and you still want to apply custom plotting options.</p></div>
<div class="paragraph"><p>An example for this looks like:</p></div>
<div class="listingblock">
<div class="content">
<pre><code># BEGIN PLOT figures/MC_WJETS/W_mass.dat
XMin=60.0
XMax=100.0
LegendXPos=0.65
# END PLOT

.*myLOrun.aida/D0_2008_S7554427/d01-x01-y01::Scale=1.0</code></pre>
</div></div>
<div class="paragraph"><p>Here first the options in the <code>PLOT</code> section of a specific ascii file are
being amended/overwritten. The second part shows how to overwrite the <code>Scale</code>
property of one specific histogram line using the ID of the histogram.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_input_format">Input Format</h2>
<div class="sectionbody">
<div class="paragraph"><p>The ascii files which can be read by <code>make-plots</code> are divided into sections.
There are four types of sections which are called <code>PLOT</code>, <code>HISTOGRAM</code>,
<code>FUNCTION</code>, and <code>SPECIAL</code>. Every file must contain exactly one <code>PLOT</code> section
and at least one section of the other three types. There may be multiple
<code>HISTOGRAM</code>, <code>FUNCTION</code>, and <code>SPECIAL</code> sections.</p></div>
<div class="paragraph"><p>Empty lines and lines starting with <code>#</code> are ignored, except for the section
delimiters described below.</p></div>
<div class="sect2">
<h3 id="_plot">PLOT</h3>
<div class="paragraph"><p>The <code>PLOT</code> section starts with</p></div>
<div class="listingblock">
<div class="content">
<pre><code># BEGIN PLOT</code></pre>
</div></div>
<div class="paragraph"><p>and ends with</p></div>
<div class="listingblock">
<div class="content">
<pre><code># END PLOT</code></pre>
</div></div>
<div class="paragraph"><p>Every file must have exactly one <code>PLOT</code> section. In this section global
parameters are specified, like the axis labels, the plot title, size, &#8230;
An empty <code>PLOT</code> section is perfectly legal, though.</p></div>
<div class="paragraph"><p>In this section the following parameters can be set:</p></div>
<div class="sect3">
<h4 id="_titles_labels">Titles, Labels</h4>
<div class="listingblock">
<div class="content">
<pre><code>Title=&lt;title&gt;</code></pre>
</div></div>
<div class="paragraph"><p>The title of the plot.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>XLabel=&lt;label&gt;
YLabel=&lt;label&gt;
ZLabel=&lt;label&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Axis labels for the x-, y-, and z-axis.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>XLabelSep=&lt;distance&gt;
YLabelSep=&lt;distance&gt;
ZLabelSep=&lt;distance&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Distance between the axis label and the plot in units of <code>\labelsep</code>.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>XMajorTickMarks=&lt;last_digit&gt;
YMajorTickMarks=&lt;last_digit&gt;
ZMajorTickMarks=&lt;last_digit&gt;
XMinorTickMarks=&lt;nticks&gt;
YMinorTickMarks=&lt;nticks&gt;
ZMinorTickMarks=&lt;nticks&gt;</code></pre>
</div></div>
<div class="paragraph"><p><code>make-plots</code> tries to guess the distance between tickmarks automatically.
If you are not satisfied with its result, you can override this by setting
<code>&lt;last_digit&gt;</code> to 1, 2, 5, or 10, and <code>&lt;nticks&gt;</code> to the number of minor ticks
you like.
<em>Note</em>: These options are not available for logarithmic axes.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>XTwosidedTicks=&lt;0|1&gt;
YTwosidedTicks=&lt;0|1&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Draw tickmarks also on the upper and/or right side of the plot.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>XCustomMajorTicks=&lt;list&gt;
YCustomMajorTicks=&lt;list&gt;
ZCustomMajorTicks=&lt;list&gt;</code></pre>
</div></div>
<div class="paragraph"><p>To specify major ticks at arbitrary positions and/or with arbitrary labels.
<code>&lt;list&gt;</code> is a tab separated list of format <code>value1 &lt;tab&gt; label1 &lt;tab&gt; value2
&lt;tab&gt; label2 ...</code>.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>XCustomMinorTicks=&lt;list&gt;
YCustomMinorTicks=&lt;list&gt;
ZCustomMinorTicks=&lt;list&gt;</code></pre>
</div></div>
<div class="paragraph"><p>To specify minor ticks at arbitrary positions. <code>&lt;list&gt;</code> is a tab separated
list of format <code>value1 &lt;tab&gt; value2 &lt;tab&gt; value3 ...</code>.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>PlotTickLabels=&lt;0|1&gt;
RatioPlotTickLabels=&lt;0|1&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Disable/enable plotting of the tick labels in the plot and ratio plot (useful
if multiple plots are to be combined manually later).</p></div>
</div>
<div class="sect3">
<h4 id="_axes">Axes</h4>
<div class="listingblock">
<div class="content">
<pre><code>LogX=&lt;0|1&gt;
LogY=&lt;0|1&gt;
LogZ=&lt;0|1&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Use a logarithmic x-, y-, or z-axis. Default is linear.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>XMin=&lt;value&gt;
XMax=&lt;value&gt;
YMin=&lt;value&gt;
YMax=&lt;value&gt;
ZMin=&lt;value&gt;
ZMax=&lt;value&gt;
FullRange=&lt;0|1&gt;
ShowZero=&lt;0|1&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Specify the plot range. By default the range is chosen such that all data
is visible in linear plots, and the zero is visible. <code>ShowZero=0</code> suppresses
plotting the zero in linear plots and thus zooms into the actual y-value range
of the distribution. In logarithmic plots the automatic choice of <code>YMin</code>
is limited to be not smaller than 2e-4*<code>YMax</code>, but manually you can specify
any value. <code>FullRange=1</code> also overrides the 2e-4*<code>YMax</code> limit and plots the
full range in y.</p></div>
</div>
<div class="sect3">
<h4 id="_normalization_rebinning">Normalization, Rebinning</h4>
<div class="listingblock">
<div class="content">
<pre><code>NormalizeToIntegral=&lt;1|0&gt;
NormalizeToSum=&lt;1|0&gt;
Scale=&lt;factor&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Normalize all histograms to their integral, to their sum of entries, or scale
them by some arbitrary factor. Normalization and scale options in the <code>PLOT</code>
section override the corresponding option in the <code>HISTOGRAM</code> section.
The scale factor is applied after normalization.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Rebin=&lt;nbins&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Rebin all histograms in this plot. Syntax and functionality is the same as for
the Rebin option in the <code>HISTOGRAM</code> section.</p></div>
</div>
<div class="sect3">
<h4 id="_sizes_and_margins">Sizes and Margins</h4>
<div class="listingblock">
<div class="content">
<pre><code>PlotSize=&lt;xsize,ysize&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Size in x and y direction of the plot. This can be specified in any unit
LaTeX understands.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>LeftMargin=&lt;size&gt;
RightMargin=&lt;size&gt;
TopMargin=&lt;size&gt;
BottomMargin=&lt;size&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Distance between the plot and the paper edge.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>FrameColor=&lt;color&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Background color for the margin around the plot.</p></div>
</div>
<div class="sect3">
<h4 id="_legends">Legends</h4>
<div class="listingblock">
<div class="content">
<pre><code>Legend=&lt;0|1&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Display a legend in the plot.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>CustomLegend=&lt;text&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Custom text that is added to the legend.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>LegendXPos=&lt;pos&gt;
LegendYPos=&lt;pos&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Position of the legend within the plot. Anchor point is the top left corner of
the legend, so units typically range between 0.0 and 1.0.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>LegendAlign=&lt;align&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Horizontal alignment of the legend: <code>LegendAlign=l</code> is the default and will
create a left-aligned legend, while <code>LegendAlign=r</code> is right-aligned with
the keys on the right hand side.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>LegendOnly=&lt;list&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Whitespace separated list of IDs. These can be histograms or functions. The
legend is only shown for the listed objects. Without this option, all plotted
objects which have a title enter the legend. The legend titles
are plotted in the given order, so there are cases in which it makes
sense to use <code>LegendOnly</code> together with all histogram IDs.
It is also possible to specify the legend order on an entry-by-entry basis
using the <code>LegendOrder=&lt;int&gt;</code> setting for each histogram or function.</p></div>
</div>
<div class="sect3">
<h4 id="_plotting_options">Plotting Options</h4>
<div class="listingblock">
<div class="content">
<pre><code>DrawOnly=&lt;list&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Whitespace separated list of histogram IDs. Only the histograms in this list
are plotted, even if there are more histograms defined in the file. The
histograms are plotted in the given order, so there are cases in which it makes
sense to use <code>DrawOnly</code> together with all histogram IDs. This is especially
useful for the <code>Stack</code> option. It is also possible to specify the plotting order
on a histogram-by-histogram basis using the <code>PlotOrder=&lt;int&gt;</code> setting for each
histogram.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Stack=&lt;list&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Whitespace separated list of histogram IDs. The histograms will be added on top
of each other. This is useful for example to compare data with background if
the background has contributions from several histograms.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>DrawSpecialFirst=&lt;0|1&gt;
DrawFunctionFirst=&lt;0|1&gt;</code></pre>
</div></div>
<div class="paragraph"><p>By default the <code>SPECIAL</code> and <code>FUNCTION</code> sections are plotted after the
histograms. With these options you can override that behaviour.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>ConnectGaps=&lt;0|1&gt;</code></pre>
</div></div>
<div class="paragraph"><p>If error bars are disabled and you want to bridge gaps in a histogram, you
can set this parameter. By default it is off. Setting it in the <code>PLOT</code> section
affects all histograms, but you can also set it in the <code>HISTOGRAM</code> section for
individual histograms. The local setting overrides the global setting.</p></div>
</div>
<div class="sect3">
<h4 id="_comparison_plots">Comparison Plots</h4>
<div class="paragraph"><p>With the</p></div>
<div class="listingblock">
<div class="content">
<pre><code>RatioPlot=1
RatioPlotReference=&lt;histogram_ID&gt;</code></pre>
</div></div>
<div class="paragraph"><p>options you can create ratio plots for two or more histograms. Note that you
must specify your reference data ID. This option is used by the
<a href="compare-histos.html"><code>compare-histos</code></a> script.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>RatioPlotMode=&lt;default|deviation|datamc&gt;</code></pre>
</div></div>
<div class="paragraph"><p>By default, the ratio plot displays MC/Data. You can switch to
(MC-data)/uncertainty (<code>deviation</code>) or Data/MC (<code>datamc</code>) with this
option.</p></div>
<div class="paragraph"><p>In ratio plots the following additional options are available and work in
a similar way as their regular counterparts:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>RatioPlotYLabel=&lt;label&gt;
RatioPlotYMin=&lt;value&gt;
RatioPlotYMax=&lt;value&gt;
RatioPlotYSize=&lt;size&gt;
RatioPlotErrorBandColor=&lt;color&gt;</code></pre>
</div></div>
<div class="paragraph"><p>By default, the reference data is plotted using a yellow error band around the
central value of the ratio plot. If you would rather have it plotted in the
same style as in the main plot (e.g. with black errorbars), you can specify:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>RatioPlotSameStyle=1</code></pre>
</div></div>
<div class="paragraph"><p>If you only want the ratio plot without showing the actual data distribution,
you can switch off the main plot. This option implies <code>RatioPlot=1</code>:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>MainPlot=0</code></pre>
</div></div>
</div>
<div class="sect3">
<h4 id="_goodness_of_fit">Goodness of Fit</h4>
<div class="paragraph"><p><code>make-plots</code> can calculate the goodness of fit between histograms and display the
result in the legend. It is also possible to change the color of the margin around
the plot depending on the GoF. This is useful to provide a quick overview when
looking at many plots.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>GofType=chi2</code></pre>
</div></div>
<div class="paragraph"><p>The type of GoF. The default is <code>chi2</code> and currently that&#8217;s the only option.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>GofReference=&lt;histogram_ID&gt;</code></pre>
</div></div>
<div class="paragraph"><p>specifies the reference histogram to be used for the GoF calculation. If this
option is omitted, the fallback is <code>RatioPlotReference</code>.</p></div>
<div class="paragraph"><p>The GoF calculation is activated by two options:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>GofLegend=&lt;0|1&gt;
GofFrame=&lt;histogram_ID&gt;</code></pre>
</div></div>
<div class="paragraph"><p><code>GofLegend</code> calculates the GoF for all histograms and displays the results in
the legend. With <code>GofFrame</code> you can specify a single histogram for which the
GoF result will be shown in the legend and used to assign a color to the plot
margins. Note that <code>FrameColor</code> overrides the color choice for the margin.
You can use</p></div>
<div class="listingblock">
<div class="content">
<pre><code>GofFrameColor=&lt;colorthresholds&gt;</code></pre>
</div></div>
<div class="paragraph"><p>to specify the thresholds for the frame color. This option takes a list of
<code>&lt;threshold&gt;:&lt;color&gt;</code> pairs, separated by whitespace. The default is
<code>GofFrameColor=0:green 3:yellow 6:red!70</code>. Again, if you use <code>FrameColor</code>,
this option is disabled.</p></div>
</div>
<div class="sect3">
<h4 id="_color_palettes_for_2_dim_plots">Color Palettes for 2-dim Plots</h4>
<div class="paragraph"><p>With the option <code>ColorSeries</code> you can define a custom color palette for
2-dimensional plots. The syntax is the same as for the <code>\definecolorseries</code>
command in the <code>xcolor</code> LaTeX package after the color series name, i.e.
<code>{core-model}{method}[begin-model]{begin-spec}[end-model]{end-spec}</code>. For more
information you can consult the
<a href="http://www.ctan.org/tex-archive/macros/latex/contrib/xcolor/xcolor.pdf">xcolor documentation</a>.
Here is an example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>ColorSeries={rgb}{last}[rgb]{1,0.97,0.94}[rgb]{0.6,0.0,0.05}</code></pre>
</div></div>
</div>
</div>
<div class="sect2">
<h3 id="_histogram">HISTOGRAM</h3>
<div class="paragraph"><p>The <code>HISTOGRAM</code> section starts with</p></div>
<div class="listingblock">
<div class="content">
<pre><code># BEGIN HISTOGRAM &lt;ID&gt;</code></pre>
</div></div>
<div class="paragraph"><p>and ends with</p></div>
<div class="listingblock">
<div class="content">
<pre><code># END HISTOGRAM</code></pre>
</div></div>
<div class="paragraph"><p>There can be more than one <code>HISTOGRAM</code> section in a file. Histograms are
identified by <code>&lt;ID&gt;</code> which can be any string <em>not</em> containing whitespace.</p></div>
<div class="sect3">
<h4 id="_data_format">Data Format</h4>
<div class="paragraph"><p>Lines starting with a number (positive or negative) are interpreted as data.
Each line specifies one bin. The fields in each line must be separated by tabs,
not spaces (this needs to be fixes some day). For 1-dimensional histograms the
format can be</p></div>
<div class="listingblock">
<div class="content">
<pre><code>&lt;lowerbinedge&gt;  &lt;upperbinedge&gt;  &lt;value&gt;  &lt;error&gt;
&lt;lowerbinedge&gt;  &lt;upperbinedge&gt;  &lt;value&gt;  &lt;minuserror&gt;  &lt;pluserror&gt;</code></pre>
</div></div>
<div class="paragraph"><p>2-dimensional histograms are supported, too. They are plotted as colormap
(errors are ignored) and specified as</p></div>
<div class="listingblock">
<div class="content">
<pre><code>&lt;lowerxbinedge&gt;  &lt;upperxbinedge&gt;  &lt;lowerybinedge&gt;  &lt;upperybinedge&gt;  &lt;value&gt;  &lt;error&gt;</code></pre>
</div></div>
</div>
<div class="sect3">
<h4 id="_titles">Titles</h4>
<div class="listingblock">
<div class="content">
<pre><code>Title=&lt;title&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Title of the histogram. This is used for the legend.</p></div>
</div>
<div class="sect3">
<h4 id="_linestyles">Linestyles</h4>
<div class="listingblock">
<div class="content">
<pre><code>LineStyle=&lt;style&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Any linestyle that is understood by the LaTeX pstricks package, e.g. <code>solid</code>,
<code>dotted</code>, <code>dashed</code>, <code>none</code>, as well as a special <code>dashdotted</code> (or <code>dotdashed</code>)
linestyle which does what you might expect.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>LineColor=&lt;color&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Color of the line. Default is black, but any color that pstricks understands
can be used, including constructions like <code>red!70!blue!20</code> (for mixing colors),
<code>{[rgb]{0.8,0,0.7}}</code> (for RGB-colors), <code>{[wave]{580}}</code> (for wavelengths in
nm), <code>LineColor={[cmyk]{1,1,0,0}}</code> for CMYK-colors, or <code>[hsb]{0.5,1,1}</code> for
HSB-colors.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>LineOpacity=&lt;opacity&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Set the opacity of the line. Default is 1.0. This might not work for ps output.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>LineWidth=&lt;width&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Width of the line.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>LineDash=&lt;dashstyle&gt;</code></pre>
</div></div>
<div class="paragraph"><p>If <code>LineStyle</code> is set to <code>dashed</code>, you can specify the dash style with this
option. Anything that is understood by pstrick&#8217;s <code>dash=...</code> option is valid.
An example for a dash-dotted line is <code>LineDash=3pt 3pt .8pt 3pt</code>. You can use
<code>LineStyle=dashdotted</code> or <code>LineStyle=dotdashed</code> as an abbreviation for
<code>LineStyle=dashed</code> with <code>LineDash=3pt 3pt .8pt 3pt</code>.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>ConnectBins=&lt;0|1&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Choose whether to connect adjacent bins' horizontal lines together by a vertical
line on the bin edge. This is enabled by default, but you may wish to disable
it when plotting reference data with error bars and point markers.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>ConnectGaps=&lt;0|1&gt;</code></pre>
</div></div>
<div class="paragraph"><p>If ConnectBins is enabled and you want to bridge gaps in a histogram, you
can set this parameter. By default it is off. Setting it in the <code>PLOT</code> section
affects all histograms, but you can also set it in the <code>HISTOGRAM</code> section for
individual histograms. The local setting overrides the global setting.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>SmoothLine=&lt;0|1&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Draw a smooth curve rather than a histogram</p></div>
</div>
<div class="sect3">
<h4 id="_fillstyles">Fillstyles</h4>
<div class="listingblock">
<div class="content">
<pre><code>FillStyle=&lt;style&gt;
FillColor=&lt;color&gt;</code></pre>
</div></div>
<div class="paragraph"><p>To fill the area below a histogram, set <code>FillStyle</code> and <code>FillColor</code> to
something pstricks understands. Examples for the style are <code>solid</code> or <code>vlines</code>.
See <code>LineColor</code> for examples of color definitions.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>FillOpacity=&lt;opacity&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Set the opacity of the solid fillcolor. Default is 1.0. This might not work for
ps output.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>HatchColor=&lt;color&gt;</code></pre>
</div></div>
<div class="paragraph"><p>The color of a hatch pattern used for filling the area below a histogram. This
is used for example when you use <code>vlines</code> as style.</p></div>
</div>
<div class="sect3">
<h4 id="_data_points">Data Points</h4>
<div class="listingblock">
<div class="content">
<pre><code>ErrorBars=&lt;0|1&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Turn on error bars.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>ErrorBands=&lt;0|1&gt;
ErrorBandColor=&lt;color&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Turn on error bands and set their color (see <code>LineColor</code> for a description
of color definitions).</p></div>
<div class="listingblock">
<div class="content">
<pre><code>ErrorBandOpacity=&lt;opacity&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Set the opacity of the error band. Default is 1.0. This might not work for ps
output.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>PolyMarker=&lt;dotstyle&gt;</code></pre>
</div></div>
<div class="paragraph"><p>The marker style of the points. Any dot style which is understood by pstricks
is valid, e.g. <code>*</code>, <code>o</code>, <code>triangle</code>, <code>diamond</code>, &#8230;</p></div>
<div class="listingblock">
<div class="content">
<pre><code>DotSize=&lt;size&gt;
DotScale=&lt;factor&gt;</code></pre>
</div></div>
<div class="paragraph"><p>The size of the markers. With <code>DotSize</code> you can specify the absolute size, e.g.
in units of <code>pt</code>, while <code>DotScale</code> is a relative measure with respect to the
default size.</p></div>
</div>
<div class="sect3">
<h4 id="_normalization_rebinning_2">Normalization, Rebinning</h4>
<div class="listingblock">
<div class="content">
<pre><code>NormalizeToIntegral=&lt;1|0&gt;
NormalizeToSum=&lt;1|0&gt;
Scale=&lt;factor&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Normalize the histogram to the integral, to the sum of entries, or scale it by
some arbitrary factor. If normalization and a scale factor are given, the scale
factor is applied after normalization. This is useful for stacking histograms
when the ratios are known.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Rebin=&lt;nbins&gt;
ErrorType=&lt;stat|env&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Rebin the histogram. Starting with the lowest bin &lt;nbins&gt; bins are combined
into a new bin. If the number of bins in the histogram is not a multiple of
&lt;nbins&gt;, the remaining bins at the upper histogram end are silently ignored
(i.e. if the original histogram has 10 bins and &lt;nbins&gt; is 3, the plotted
histogram shows three bins combining the bins 1&#8212;9 of the original histogram).
The treatment of the errors is determined by the given ErrorType:
<code>stat</code> (default) assumes the errors are of statistical nature and combines
them in quadrature sum, while <code>env</code> allows to treat errors as envelope of
various uncertainty runs which are combined linearly.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_function">FUNCTION</h3>
<div class="paragraph"><p><code>make-plots</code> can draw arbitrary functions. These functions are defined as
python code sniplets which are evaluated by <code>make-plots</code>. The code sniplet
must come after all other options in a <code>FUNCTION</code> section and are preceded by
<code>Code=</code> on a single line. An example <code>FUNCTION</code> section might look like this:</p></div>
<div class="listingblock">
<div class="content">
<pre><code># BEGIN FUNCTION f_cc
LineColor=red
Code=
p0=16.4
p1=1.25
p2=0.9832
from scipy.special import erf
x-=0.5
if x&lt;=0:
    return 0
else:
    return .5*p2*(1.+erf( (x-p0)/sqrt(x*p1) ))
# END FUNCTION</code></pre>
</div></div>
<div class="sect3">
<h4 id="_common_options_with_histogram">Common Options with HISTOGRAM</h4>
<div class="paragraph"><p>The following options have the same meaning as in the <code>HISTOGRAM</code> section:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Title=&lt;title&gt;
LineStyle=&lt;style&gt;
LineColor=&lt;color&gt;
LineWidth=&lt;width&gt;
LineDash=&lt;dashstyle&gt;
FillStyle=&lt;style&gt;
FillColor=&lt;color&gt;
HatchColor=&lt;color&gt;</code></pre>
</div></div>
</div>
<div class="sect3">
<h4 id="_function_range">Function Range</h4>
<div class="paragraph"><p>You can limit the plot range of functions by specifying</p></div>
<div class="listingblock">
<div class="content">
<pre><code>XMin=&lt;value&gt;
XMax=&lt;value&gt;</code></pre>
</div></div>
</div>
</div>
<div class="sect2">
<h3 id="_special">SPECIAL</h3>
<div class="paragraph"><p>The <code>SPECIAL</code> sections are used to include any custom pstricks code. This is
useful for drawing arrows and lines, put text at any position into the plot,
etc. The default coordinate system is defined to be <code>(0,0)</code> at the lower left
and <code>(1,1)</code> at the upper right corner of the plot. By putting the
<code>\physicscoor</code> command in front of a coordinate pair, these coordinates are
interpreted not in the pstricks coordinate system, but in the physics
coordinate system of the plot, which is useful e.g. for marking cut values in a
plot. Similar <code>\physicsxcoor</code> and <code>\physicsycoor</code> commands exist which will only
treat the x or y coordinate respectively as being in physics units.</p></div>
<div class="paragraph"><p>Hint: If you want to clip your <code>SPECIAL</code> code to the plot area, you can use</p></div>
<div class="listingblock">
<div class="content">
<pre><code>\psclip{\psframe[linewidth=0, linestyle=none](0,0)(1,1)}
   ...
\endpsclip</code></pre>
</div></div>
<div class="paragraph"><p>An example of a <code>SPECIAL</code> section might look like this:</p></div>
<div class="listingblock">
<div class="content">
<pre><code># BEGIN SPECIAL
\psclip{\psframe[linewidth=0, linestyle=none](0,0)(1,1)}
\psline[linewidth=1.2pt,linecolor=red]{&lt;-}\physicscoor(2.83,2)\physicscoor(2.83,18)
\uput{4pt}[180]{0}\physicscoor(2.83,12){observed}
\psline[linewidth=0.8pt,linecolor=red,linestyle=dashed]\physicscoor( 3.17,0)\physicscoor( 3.17,28.14)
\psline[linewidth=0.8pt,linecolor=red,linestyle=dashed]\physicscoor(-3.59,0)\physicscoor(-3.59,28.14)
\endpsclip
# END SPECIAL</code></pre>
</div></div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2013-08-16 00:11:40 BST
</div>
</div>
</body>
</html>
